import{a as E}from"./axios-2ea3ab6f.js";import{e as a,u as N,f as O,r as c,o as F,c as q,a as d,b as l,F as z}from"./index-70412d4e.js";function w(i){let u=Array.isArray(i)?[]:{};if(i&&typeof i=="object")for(let n in i)i.hasOwnProperty(n)&&(i[n]&&typeof i[n]=="object"?u[n]=w(i[n]):u[n]=i[n]);return u}const D={class:"card p-fluid"},G={class:"field grid"},H=l("label",{for:"host",class:"col-12 mb-2 md:col-2 md:mb-0"},"SMTP地址",-1),J={class:"col-12 md:col-10"},K=l("small",null,"邮件服务器的SMTP地址",-1),Q={class:"field grid"},X=l("label",{for:"port",class:"col-12 mb-2 md:col-2 md:mb-0"},"SMTP端口",-1),Y={class:"col-12 md:col-10"},Z=l("small",null,"邮件服务器的SMTP端口，可选，默认25",-1),$={class:"field grid"},j=l("label",{for:"from",class:"col-12 mb-2 md:col-2 md:mb-0"},"发件地址",-1),ee={class:"col-12 md:col-10"},le=l("small",null,"必须正确，否则发送失败",-1),oe={class:"field grid"},se=l("label",{for:"user",class:"col-12 mb-2 md:col-2 md:mb-0"},"用户名",-1),te={class:"col-12 md:col-10"},ae=l("small",null,"SMTP服务商的用户名",-1),de={class:"field grid"},ie=l("label",{for:"pass",class:"col-12 mb-2 md:col-2 md:mb-0"},"密码",-1),ne={class:"col-12 md:col-10"},me=l("small",null,"SMTP用户授权码",-1),ce={class:"field grid"},ue=l("label",{for:"ssl",class:"col-12 mb-2 md:col-2 md:mb-0"},"SSL",-1),re={class:"col-12 md:col-2"},ve=l("small",null,"使用SSL安全连接",-1),_e={class:"field grid"},fe=l("label",{for:"starttls",class:"col-12 mb-2 md:col-2 md:mb-0"},"STARTTLS",-1),be={class:"col-12 md:col-2"},pe=l("small",null,"使用STARTTLS安全连接，STARTTLS是对纯文本通信协议的扩展",-1),Ve={class:"field grid"},ke=l("label",{for:"timeout",class:"col-12 mb-2 md:col-2 md:mb-0"},"SMTP超时",-1),he={class:"col-12 md:col-10"},ge=l("small",null,"SMTP超时时长，单位毫秒，缺省值不超时，默认值为0",-1),Te={class:"field grid"},ye=l("label",{for:"connectionTimeout",class:"col-12 mb-2 md:col-2 md:mb-0"},"Socket连接超时",-1),Se={class:"col-12 md:col-10"},Me=l("small",null,"Socket连接超时值，单位毫秒，缺省值不超时，默认值为0",-1),xe={class:"field grid"},Ie=l("label",{for:"keyWords",class:"col-12 mb-2 md:col-2 md:mb-0"},"违规关键词",-1),Pe={class:"col-12 md:col-10"},Ue=l("small",null,"网站违规扫描关键词，使用英文逗号分隔",-1),Ce={class:"field grid"},Be=l("label",{for:"noPrefix",class:"col-12 mb-2 md:col-2 md:mb-0"},"保留前缀",-1),Ee={class:"col-12 md:col-10"},we=l("small",null,"保留前缀，禁止用户解析，使用英文逗号分隔",-1),Le={class:"field grid"},Re=l("label",{for:"point",class:"col-12 mb-2 md:col-2 md:mb-0"},"注册用户初始积分",-1),Ae={class:"col-12 md:col-10"},We={class:"field grid"},Ne=l("label",{for:"sign",class:"col-12 mb-2 md:col-2 md:mb-0"},"每日签到积分",-1),Oe={class:"col-12 md:col-10"},Fe={class:"field grid"},qe=l("label",{for:"exchange",class:"col-12 mb-2 md:col-2 md:mb-0"},"通用兑换码",-1),ze={class:"col-12 md:col-10"},De={class:"field grid"},Ge=l("label",{for:"commonPoint",class:"col-12 mb-2 md:col-2 md:mb-0"},"通用兑换码兑换积分",-1),He={class:"col-12 md:col-10"},Je={class:"flex align-items-center justify-content-end"},Xe={__name:"CommonConfig",setup(i){const u=a(["false","true"]),n=a(["false","true"]),t=a([]),f=a(""),b=a(""),p=a(""),V=a(""),k=a(""),r=a(!0),v=a(!0),h=a(""),g=a(""),T=a(""),y=a(""),S=a(""),M=a(""),x=a(""),I=a(""),U=N();O(()=>{P()});const P=()=>{E.get("/config/list").then(function(s){t.value=s.data;for(let e=0;e<t.value.length;e++)switch(t.value[e].k){case"mail_host":f.value=t.value[e].v;break;case"mail_port":b.value=t.value[e].v;break;case"mail_from":p.value=t.value[e].v;break;case"mail_user":V.value=t.value[e].v;break;case"mail_pass":k.value=t.value[e].v;break;case"mail_sslEnable":r.value=t.value[e].v;break;case"mail_starttlsEnable":v.value=t.value[e].v;break;case"mail_timeout":h.value=t.value[e].v;break;case"mail_connectionTimeout":g.value=t.value[e].v;break;case"scan_keyWords":T.value=t.value[e].v;break;case"default_point":y.value=t.value[e].v;break;case"no_prefix":S.value=t.value[e].v;break;case"sign_point":M.value=t.value[e].v;break;case"common_point":I.value=t.value[e].v;break;case"common_code":x.value=t.value[e].v;break}}).catch(function(s){console.log(s)})},L=s=>{E.put("/config/update",s).then(function(e){e.data.code===200?U.add({severity:"success",summary:"SUCCESS",detail:e.data.msg,life:3e3}):(console.log(e.data),U.add({severity:"error",summary:"ERROR",detail:e.data.msg,life:3e3})),P()}).catch(function(e){console.log(e),P()})},R=()=>{let s=w(t.value);for(let e=0;e<s.length;e++)switch(t.value[e].k){case"mail_host":s[e].v=f.value;break;case"mail_port":s[e].v=b.value;break;case"mail_from":s[e].v=p.value;break;case"mail_user":s[e].v=V.value;break;case"mail_pass":s[e].v=k.value;break;case"mail_sslEnable":s[e].v=r.value;break;case"mail_starttlsEnable":s[e].v=v.value;break;case"mail_timeout":s[e].v=h.value;break;case"mail_connectionTimeout":s[e].v=g.value;break;case"scan_keyWords":s[e].v=T.value;break;case"default_point":s[e].v=y.value;break;case"no_prefix":s[e].v=S.value;break;case"sign_point":s[e].v=M.value;break;case"common_point":s[e].v=I.value;break;case"common_code":s[e].v=x.value;break}L(s)};return(s,e)=>{const A=c("Toast"),_=c("InputText"),m=c("InputNumber"),C=c("SelectButton"),B=c("Textarea"),W=c("Button");return F(),q(z,null,[d(A),l("div",D,[l("div",G,[H,l("div",J,[d(_,{id:"host",type:"text",modelValue:f.value,"onUpdate:modelValue":e[0]||(e[0]=o=>f.value=o),modelModifiers:{trim:!0}},null,8,["modelValue"]),K])]),l("div",Q,[X,l("div",Y,[d(m,{id:"port",modelValue:b.value,"onUpdate:modelValue":e[1]||(e[1]=o=>b.value=o),modelModifiers:{trim:!0}},null,8,["modelValue"]),Z])]),l("div",$,[j,l("div",ee,[d(_,{id:"from",type:"text",modelValue:p.value,"onUpdate:modelValue":e[2]||(e[2]=o=>p.value=o),modelModifiers:{trim:!0}},null,8,["modelValue"]),le])]),l("div",oe,[se,l("div",te,[d(_,{id:"user",type:"text",modelValue:V.value,"onUpdate:modelValue":e[3]||(e[3]=o=>V.value=o),modelModifiers:{trim:!0}},null,8,["modelValue"]),ae])]),l("div",de,[ie,l("div",ne,[d(_,{id:"pass",type:"text",modelValue:k.value,"onUpdate:modelValue":e[4]||(e[4]=o=>k.value=o),modelModifiers:{trim:!0}},null,8,["modelValue"]),me])]),l("div",ce,[ue,l("div",re,[d(C,{modelValue:r.value,"onUpdate:modelValue":[e[5]||(e[5]=o=>r.value=o),e[6]||(e[6]=o=>r.value=o)],options:u.value,"aria-labelledby":"basic",modelModifiers:{trim:!0}},null,8,["modelValue","options"]),ve])]),l("div",_e,[fe,l("div",be,[d(C,{modelValue:v.value,"onUpdate:modelValue":[e[7]||(e[7]=o=>v.value=o),e[8]||(e[8]=o=>v.value=o)],options:n.value,"aria-labelledby":"basic",modelModifiers:{trim:!0}},null,8,["modelValue","options"]),pe])]),l("div",Ve,[ke,l("div",he,[d(m,{id:"timeout",modelValue:h.value,"onUpdate:modelValue":e[9]||(e[9]=o=>h.value=o),modelModifiers:{trim:!0}},null,8,["modelValue"]),ge])]),l("div",Te,[ye,l("div",Se,[d(m,{id:"connectionTimeout",modelValue:g.value,"onUpdate:modelValue":e[10]||(e[10]=o=>g.value=o),modelModifiers:{trim:!0}},null,8,["modelValue"]),Me])]),l("div",xe,[Ie,l("div",Pe,[d(B,{id:"keyWords",type:"text",modelValue:T.value,"onUpdate:modelValue":e[11]||(e[11]=o=>T.value=o),modelModifiers:{trim:!0},rows:"4"},null,8,["modelValue"]),Ue])]),l("div",Ce,[Be,l("div",Ee,[d(B,{id:"noPrefix",type:"text",modelValue:S.value,"onUpdate:modelValue":e[12]||(e[12]=o=>S.value=o),modelModifiers:{trim:!0},rows:"4"},null,8,["modelValue"]),we])]),l("div",Le,[Re,l("div",Ae,[d(m,{id:"point",modelValue:y.value,"onUpdate:modelValue":e[13]||(e[13]=o=>y.value=o),modelModifiers:{trim:!0}},null,8,["modelValue"])])]),l("div",We,[Ne,l("div",Oe,[d(m,{id:"sign",modelValue:M.value,"onUpdate:modelValue":e[14]||(e[14]=o=>M.value=o),modelModifiers:{trim:!0}},null,8,["modelValue"])])]),l("div",Fe,[qe,l("div",ze,[d(_,{id:"exchange",type:"text",modelValue:x.value,"onUpdate:modelValue":e[15]||(e[15]=o=>x.value=o),modelModifiers:{trim:!0}},null,8,["modelValue"])])]),l("div",De,[Ge,l("div",He,[d(m,{id:"commonPoint",modelValue:I.value,"onUpdate:modelValue":e[16]||(e[16]=o=>I.value=o),modelModifiers:{trim:!0}},null,8,["modelValue"])])]),l("div",Je,[d(W,{label:"保存",icon:"pi pi-save",onClick:R,class:"w-7rem"})])])],64)}}};export{Xe as default};
