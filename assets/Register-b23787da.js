import{_ as S,e as d,m as E,u as I,r,o as U,c as T,a as s,b as e,w as B,F as O,d as P,p as j,n as N,q as F}from"./index-caddd06d.js";import{a as y}from"./axios-2ea3ab6f.js";const o=i=>(j("data-v-4477297c"),i=i(),N(),i),M={class:"surface-ground flex align-items-center justify-content-center min-h-screen min-w-screen overflow-hidden"},q={class:"flex flex-column align-items-center justify-content-center"},z=o(()=>e("a",{href:"/"},[e("img",{src:F,alt:"Logo",class:"logo"})],-1)),D=o(()=>e("br",null,null,-1)),L={style:{"border-radius":"56px",padding:"0.3rem",background:"linear-gradient(180deg, var(--primary-color) 10%, rgba(33, 150, 243, 0) 30%)"}},A={class:"w-full surface-card py-8 px-5 sm:px-8",style:{"border-radius":"53px"}},G=o(()=>e("div",{class:"text-center mb-5"},[e("div",{class:"text-900 text-3xl font-medium mb-3"},"欢迎来到厚浪"),e("span",{class:"text-600 font-medium"},"注册您的账号")],-1)),H=o(()=>e("label",{for:"email1",class:"block text-900 text-xl font-medium mb-2"},"邮箱",-1)),J=o(()=>e("label",{for:"password1",class:"block text-900 font-medium text-xl mb-2"},"密码",-1)),K=o(()=>e("label",{for:"rePassword",class:"block text-900 font-medium text-xl mb-2"},"重复密码",-1)),Q=o(()=>e("label",{for:"email1",class:"block text-900 text-xl font-medium mb-2"},"验证码",-1)),W={class:"flex align-items-center justify-content-between mb-5 gap-5"},X=o(()=>e("label",{class:"ml-2"},[e("a",{href:"https://forum.houlangs.com/d/2-hou-lang-zheng-ce-lie-biao",target:"_blank",class:"font-medium no-underline ml-2 text-right cursor-pointer"},"同意厚浪全部使用政策")],-1)),Y={__name:"Register",setup(i){const u=d(""),c=d(""),f=d(""),p=d(""),m=d(!1),_=d(!1),h=E(),n=I(),v=d(!1),w=()=>{if(c.value!==f.value)return n.add({severity:"error",summary:"ERROR",detail:"密码不一致！",life:3e3});if(_.value=!0,v.value===!1)return n.add({severity:"error",summary:"ERROR",detail:"请勾选表示同意厚浪使用政策",life:3e3});y.post("/user/register",{email:u.value,password:c.value,code:p.value}).then(function(l){l.data.code===200?(n.add({severity:"success",summary:"SUCCESS",detail:l.data.msg,life:3e3}),h.replace("/auth/login")):(console.log(l.data),n.add({severity:"error",summary:"ERROR",detail:l.data.msg,life:3e3})),_.value=!1}).catch(function(l){_.value=!1,console.log(l)})},R=()=>{if(u.value==="")return n.add({severity:"error",summary:"ERROR",detail:"请填写邮箱",life:3e3});m.value=!0,y.get("/user/email_code",{params:{email:u.value}}).then(function(l){l.data.code===200?n.add({severity:"success",summary:"SUCCESS",detail:l.data.msg,life:3e3}):(console.log(l.data),n.add({severity:"error",summary:"ERROR",detail:l.data.msg,life:3e3})),m.value=!1}).catch(function(l){m.value=!1,console.log(l)})};return(l,t)=>{const V=r("Toast"),g=r("InputText"),x=r("Password"),k=r("router-link"),C=r("Checkbox"),b=r("Button");return U(),T(O,null,[s(V),e("div",M,[e("div",q,[z,D,e("div",L,[e("div",A,[G,e("div",null,[H,s(g,{id:"email1",type:"text",placeholder:"您的邮件地址",class:"w-full md:w-30rem mb-5",style:{padding:"1rem"},modelValue:u.value,"onUpdate:modelValue":t[0]||(t[0]=a=>u.value=a)},null,8,["modelValue"]),J,s(x,{id:"password1",modelValue:c.value,"onUpdate:modelValue":t[1]||(t[1]=a=>c.value=a),placeholder:"您的密码",toggleMask:!0,class:"w-full mb-3",inputClass:"w-full",inputStyle:"padding:1rem"},null,8,["modelValue"]),K,s(x,{id:"rePassword",modelValue:f.value,"onUpdate:modelValue":t[2]||(t[2]=a=>f.value=a),placeholder:"重复密码",toggleMask:!0,class:"w-full mb-3",inputClass:"w-full",inputStyle:"padding:1rem"},null,8,["modelValue"]),Q,s(g,{id:"email1",type:"text",placeholder:"邮件验证码",class:"w-full md:w-30rem mb-5",style:{padding:"1rem"},modelValue:p.value,"onUpdate:modelValue":t[3]||(t[3]=a=>p.value=a)},null,8,["modelValue"]),e("div",W,[s(k,{to:"/auth/login",class:"font-medium no-underline ml-2 text-right cursor-pointer",style:{color:"var(--primary-color)"}},{default:B(()=>[P("已有账号？去登录")]),_:1}),e("div",null,[s(C,{modelValue:v.value,"onUpdate:modelValue":t[4]||(t[4]=a=>v.value=a),binary:!0},null,8,["modelValue"]),X])]),s(b,{text:"",label:"获取验证码",class:"w-full p-3 text-xl mb-2",onClick:R,disabled:m.value},null,8,["disabled"]),s(b,{label:"注册",class:"w-full p-3 text-xl",onClick:w})])])])])])],64)}}},ee=S(Y,[["__scopeId","data-v-4477297c"]]);export{ee as default};
